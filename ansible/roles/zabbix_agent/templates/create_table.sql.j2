-- Create table for storing metrics for {{ username }}

CREATE TABLE IF NOT EXISTS {{ username }}_zabbix (
    id SERIAL PRIMARY KEY,
    timestamp TIMESTAMP NOT NULL,
    metric_type VARCHAR(50) NOT NULL,
    metric_value VARCHAR(100) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- Create index on timestamp for faster queries
CREATE INDEX IF NOT EXISTS idx_{{ username }}_zabbix_timestamp ON {{ username }}_zabbix(timestamp);

-- Create index on metric_type
CREATE INDEX IF NOT EXISTS idx_{{ username }}_zabbix_type ON {{ username }}_zabbix(metric_type);

