# –ü–æ—à–∞–≥–æ–≤–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –¥–ª—è –∫–æ–º–∞–Ω–¥—ã 22

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥—ã –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ—Ç—á–µ—Ç—É.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫](#—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ-–º–µ—Ç—Ä–∏–∫)
- [–®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è](#—à–∞–≥-1-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–æ–∫—Ä—É–∂–µ–Ω–∏—è)
- [–®–∞–≥ 2: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞](#—à–∞–≥-2-—Ä—É—á–Ω–∞—è-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)
- [–®–∞–≥ 3: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—à–∞–≥-3-–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- [–®–∞–≥ 4: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Ansible](#—à–∞–≥-4-–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è-—á–µ—Ä–µ–∑-ansible)
- [–®–∞–≥ 5: –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–≤](#—à–∞–≥-5-–æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ-—Å–µ—Ä–≤–µ—Ä–æ–≤)
- [–®–∞–≥ 6: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ—Ç—á–µ—Ç–∞](#—à–∞–≥-6-–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–æ—Ç—á–µ—Ç–∞)
- [–ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞](#—á–µ–∫–ª–∏—Å—Ç-–¥–ª—è-–∫–∞–∂–¥–æ–≥–æ-—É—á–∞—Å—Ç–Ω–∏–∫–∞)

## üéØ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫

| ‚Ññ   | –£—á–∞—Å—Ç–Ω–∏–∫  | Username | –ú–µ—Ç—Ä–∏–∫–∞             | –û–ø–∏—Å–∞–Ω–∏–µ                                    |
| --- | --------- | -------- | ------------------- | ------------------------------------------- |
| 1   | –°—Ç—É–¥–µ–Ω—Ç 1 | user1    | CPU Load            | –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ (1 –º–∏–Ω—É—Ç–∞)              |
| 2   | –°—Ç—É–¥–µ–Ω—Ç 2 | user2    | RAM Usage           | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ (%)        |
| 3   | –°—Ç—É–¥–µ–Ω—Ç 3 | user3    | Disk Availability   | –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –¥–∏—Å–∫–∞ (%)                       |
| 4   | –°—Ç—É–¥–µ–Ω—Ç 4 | user4    | Network Connections | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–≤—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π |
| 5   | –°—Ç—É–¥–µ–Ω—Ç 5 | user5    | Processes           | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤             |
| 6   | –°—Ç—É–¥–µ–Ω—Ç 6 | user6    | Swap Usage          | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ swap –ø–∞–º—è—Ç–∏ (%)               |

---

## –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –∫–∞–∂–¥–æ–º—É:

1. **–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É**

   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Debian minimal (–∞–Ω–≥–ª–∏–π—Å–∫–∏–π —è–∑—ã–∫)
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSH –¥–æ—Å—Ç—É–ø
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Midnight Commander**

   ```bash
   sudo apt update && sudo apt install mc -y
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∫–∞–ª—å**
   ```bash
   locale
   # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: LANG=en_US.UTF-8
   ```

### üì∏ –ß—Ç–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–∏—Ç—å:

- ‚úÖ –°–∫—Ä–∏–Ω—à–æ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Midnight Commander
- ‚úÖ –°–∫—Ä–∏–Ω—à–æ—Ç –≤—ã–≤–æ–¥–∞ –∫–æ–º–∞–Ω–¥—ã `locale`
- ‚úÖ –°–∫—Ä–∏–Ω—à–æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–∞—Ç–∞–ª–æ–≥–æ–≤ (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ `mc`)

---

## –®–∞–≥ 2: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

**–í–∞–∂–Ω–æ**: –°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ —à–∞–≥–∏ –≤—Ä—É—á–Ω—É—é, –∑–∞—Ç–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ Ansible!

### 2.1. –°–æ–∑–¥–∞–Ω–∏–µ —Ä–∞–±–æ—á–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞

```bash
sudo mkdir -p /srv/team22/userX_zabbix
sudo chmod 755 /srv/team22/userX_zabbix
```

**–ó–∞–º–µ–Ω–∏—Ç–µ `userX` –Ω–∞ –≤–∞—à–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (user1, user2, user3, user4, user5 –∏–ª–∏ user6)

### üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã:

- ‚úÖ –ö–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞—Ç–∞–ª–æ–≥–∞
- ‚úÖ –í—ã–≤–æ–¥ `ls -la /srv/team22/`

### 2.2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Zabbix Agent

```bash
# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Zabbix
wget https://repo.zabbix.com/zabbix/6.0/debian/pool/main/z/zabbix-release/zabbix-release_6.0-4+debian12_all.deb
sudo dpkg -i zabbix-release_6.0-4+debian12_all.deb
sudo apt update

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Zabbix Agent
sudo apt install zabbix-agent -y
```

### üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã:

- ‚úÖ –ü—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Zabbix Agent
- ‚úÖ –í—ã–≤–æ–¥ `zabbix_agentd --version`
- ‚úÖ –°—Ç–∞—Ç—É—Å —Å–ª—É–∂–±—ã: `sudo systemctl status zabbix-agent`

### 2.3. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ –º–µ—Ç—Ä–∏–∫–∏

–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –≤–∞—à–µ–π –º–µ—Ç—Ä–∏–∫–∏ –≤ `/srv/team22/userX_zabbix/`:

**–ü—Ä–∏–º–µ—Ä –¥–ª—è user1 (CPU):**

```bash
sudo nano /srv/team22/user1_zabbix/cpu_metric.sh
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```bash
#!/bin/bash
# CPU Load Metric for user1

cpu_load=$(uptime | awk -F'load average:' '{ print $2 }' | cut -d, -f1 | xargs)
echo "$cpu_load"
```

**–ü—Ä–∏–º–µ—Ä –¥–ª—è user2 (RAM):**

```bash
sudo nano /srv/team22/user2_zabbix/ram_metric.sh
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```bash
#!/bin/bash
# RAM Usage Metric for user2

total_mem=$(free | grep Mem | awk '{print $2}')
used_mem=$(free | grep Mem | awk '{print $3}')
ram_usage=$(awk "BEGIN {printf \"%.2f\", ($used_mem/$total_mem)*100}")
echo "$ram_usage"
```

**–ü—Ä–∏–º–µ—Ä –¥–ª—è user3 (Disk):**

```bash
sudo nano /srv/team22/user3_zabbix/disk_metric.sh
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```bash
#!/bin/bash
# Disk Availability Metric for user3

disk_usage=$(df -h / | tail -1 | awk '{print $5}' | sed 's/%//')
disk_availability=$((100 - disk_usage))
echo "$disk_availability"
```

**–ü—Ä–∏–º–µ—Ä –¥–ª—è user4 (Network):**

```bash
sudo nano /srv/team22/user4_zabbix/network_metric.sh
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```bash
#!/bin/bash
# Network Connections Metric for user4

network_connections=$(netstat -an | grep ESTABLISHED | wc -l)
echo "$network_connections"
```

**–ü—Ä–∏–º–µ—Ä –¥–ª—è user5 (Processes):**

```bash
sudo nano /srv/team22/user5_zabbix/processes_metric.sh
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```bash
#!/bin/bash
# Processes Metric for user5

process_count=$(ps aux | wc -l)
process_count=$((process_count - 1))
echo "$process_count"
```

**–ü—Ä–∏–º–µ—Ä –¥–ª—è user6 (Swap):**

```bash
sudo nano /srv/team22/user6_zabbix/swap_metric.sh
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:

```bash
#!/bin/bash
# Swap Usage Metric for user6

total_swap=$(free | grep Swap | awk '{print $2}')
used_swap=$(free | grep Swap | awk '{print $3}')

if [ "$total_swap" -eq 0 ]; then
    echo "0.00"
else
    swap_usage=$(awk "BEGIN {printf \"%.2f\", ($used_swap/$total_swap)*100}")
    echo "$swap_usage"
fi
```

–°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:

```bash
sudo chmod +x /srv/team22/userX_zabbix/your_metric_metric.sh
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É —Å–∫—Ä–∏–ø—Ç–∞:

```bash
/srv/team22/userX_zabbix/your_metric_metric.sh
```

### üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã:

- ‚úÖ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∞—à–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ –º–µ—Ç—Ä–∏–∫–∏ (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ `cat` –∏–ª–∏ `nano`)
- ‚úÖ –í—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã `chmod +x`
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ (–∑–Ω–∞—á–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫–∏)

### 2.4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Zabbix Agent

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```bash
sudo nano /etc/zabbix/zabbix_agentd.conf
```

–î–æ–±–∞–≤—å—Ç–µ –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ:

```
Server=127.0.0.1  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ IP –≤–∞—à–µ–≥–æ Zabbix Server
ServerActive=127.0.0.1
Hostname=your-hostname  # –£–Ω–∏–∫–∞–ª—å–Ω–æ–µ –∏–º—è —Ö–æ—Å—Ç–∞
UserParameter=userX.metric_type,/srv/team22/userX_zabbix/metric_type_metric.sh
```

**–ó–∞–º–µ–Ω–∏—Ç–µ:**

- `userX` - –≤–∞—à–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `metric_type` - —Ç–∏–ø –≤–∞—à–µ–π –º–µ—Ç—Ä–∏–∫–∏ (cpu, ram, disk, network, processes, swap)
- `127.0.0.1` - IP –∞–¥—Ä–µ—Å Zabbix Server (–µ—Å–ª–∏ –µ—Å—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)

–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≥–µ–Ω—Ç:

```bash
sudo systemctl restart zabbix-agent
sudo systemctl enable zabbix-agent
sudo systemctl status zabbix-agent
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ—Ç—Ä–∏–∫—É:

```bash
sudo zabbix_agentd -t userX.metric_type
```

### üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã:

- ‚úÖ –§—Ä–∞–≥–º–µ–Ω—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `/etc/zabbix/zabbix_agentd.conf` —Å –≤–∞—à–∏–º UserParameter
- ‚úÖ –°—Ç–∞—Ç—É—Å —Å–ª—É–∂–±—ã `zabbix-agent`
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –º–µ—Ç—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ `zabbix_agentd -t`

### 2.5. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL
sudo apt install postgresql postgresql-client -y
sudo systemctl start postgresql
sudo systemctl enable postgresql
```

–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:

```bash
sudo -u postgres psql
```

–í psql:

```sql
CREATE DATABASE zabbix_metrics;
\c zabbix_metrics
```

–°–æ–∑–¥–∞–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É –¥–ª—è –≤–∞—à–∏—Ö –º–µ—Ç—Ä–∏–∫:

```sql
CREATE TABLE userX_zabbix (
    id SERIAL PRIMARY KEY,
    timestamp TIMESTAMP NOT NULL,
    metric_type VARCHAR(50) NOT NULL,
    metric_value VARCHAR(100) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_userX_zabbix_timestamp ON userX_zabbix(timestamp);
CREATE INDEX idx_userX_zabbix_type ON userX_zabbix(metric_type);
\q
```

### üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã:

- ‚úÖ –ü—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ PostgreSQL
- ‚úÖ –°—Ç–∞—Ç—É—Å —Å–ª—É–∂–±—ã PostgreSQL
- ‚úÖ –í—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã —Å–æ–∑–¥–∞–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ `\d userX_zabbix`)

### 2.6. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–∞ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫

–°–æ–∑–¥–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–±–æ—Ä–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫:

```bash
sudo nano /srv/team22/userX_zabbix/collect_metrics.sh
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ (–∑–∞–º–µ–Ω–∏—Ç–µ `userX` –∏ `metric_type`):

```bash
#!/bin/bash
METRIC_TYPE="your_metric_type"  # cpu, ram, disk, network, processes, swap
METRIC_SCRIPT="/srv/team22/userX_zabbix/${METRIC_TYPE}_metric.sh"
OUTPUT_FILE="/srv/team22/userX_zabbix/metrics_output.txt"
TIMESTAMP=$(date '+%Y-%m-%d %H:%M:%S')

METRIC_VALUE=$($METRIC_SCRIPT)
echo "[$TIMESTAMP] $METRIC_TYPE: $METRIC_VALUE" >> "$OUTPUT_FILE"

# Save to PostgreSQL
PGPASSWORD=postgres psql -h localhost -U postgres -d zabbix_metrics -c \
  "INSERT INTO userX_zabbix (timestamp, metric_type, metric_value) VALUES ('$TIMESTAMP', '$METRIC_TYPE', '$METRIC_VALUE');"

echo "$METRIC_VALUE"
```

–°–¥–µ–ª–∞–π—Ç–µ –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:

```bash
sudo chmod +x /srv/team22/userX_zabbix/collect_metrics.sh
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Ä—É—á–Ω—É—é –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

```bash
/srv/team22/userX_zabbix/collect_metrics.sh
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–∞–Ω–Ω—ã–µ –≤ PostgreSQL:

```bash
sudo -u postgres psql -d zabbix_metrics -c "SELECT * FROM userX_zabbix ORDER BY timestamp DESC LIMIT 5;"
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª:

```bash
cat /srv/team22/userX_zabbix/metrics_output.txt
```

### üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã:

- ‚úÖ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∫—Ä–∏–ø—Ç–∞ `collect_metrics.sh`
- ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞
- ‚úÖ –î–∞–Ω–Ω—ã–µ –≤ PostgreSQL (SELECT –∑–∞–ø—Ä–æ—Å)
- ‚úÖ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `metrics_output.txt`

### 2.7. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–±–æ—Ä–∞ (cron)

```bash
sudo crontab -e
```

–î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É (–∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç):

```
*/5 * * * * /srv/team22/userX_zabbix/collect_metrics.sh
```

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

```bash
sudo crontab -l
```

–ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 –º–∏–Ω—É—Ç –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è:

```bash
sudo -u postgres psql -d zabbix_metrics -c "SELECT COUNT(*) FROM userX_zabbix;"
```

### üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã:

- ‚úÖ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ crontab (`sudo crontab -l`)
- ‚úÖ –£–≤–µ–ª–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø–∏—Å–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ (–¥–æ –∏ –ø–æ—Å–ª–µ)

---

## –®–∞–≥ 3: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏:

1. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤—Å–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã** –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–∞–ø–∫—É
2. **–ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã**, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã –≤—ã–ø–æ–ª–Ω—è–ª–∏
3. **–ó–∞–ø–∏—à–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫** (–Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–∏–º–µ—Ä–æ–≤)
4. **–ó–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –ø—Ä–æ–±–ª–µ–º—ã**, –µ—Å–ª–∏ –æ–Ω–∏ –±—ã–ª–∏, –∏ –∫–∞–∫ –∏—Ö —Ä–µ—à–∏–ª–∏

### üì∏ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –¥–ª—è –æ—Ç—á–µ—Ç–∞:

- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Midnight Commander
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞–ª–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∞ `/srv/team22/userX_zabbix`
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Zabbix Agent
- ‚úÖ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Å–∫—Ä–∏–ø—Ç–∞ –º–µ—Ç—Ä–∏–∫–∏
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Zabbix Agent
- ‚úÖ –°—Ç–∞—Ç—É—Å —Å–ª—É–∂–±—ã Zabbix Agent
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ `zabbix_agentd -t`
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PostgreSQL
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –≤ PostgreSQL
- ‚úÖ –°–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
- ‚úÖ –î–∞–Ω–Ω—ã–µ –≤ PostgreSQL (SELECT –∑–∞–ø—Ä–æ—Å)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

---

## –®–∞–≥ 4: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Ansible

### 4.1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å:

- Ansible —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ —É–ø—Ä–∞–≤–ª—è—é—â–µ–π –º–∞—à–∏–Ω–µ
- SSH –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º —Å–µ—Ä–≤–µ—Ä–∞–º –∫–æ–º–∞–Ω–¥—ã
- –ü—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω `ansible/inventories/inventory.yml`

### 4.2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `ansible/playbook.yml`:

- IP –∞–¥—Ä–µ—Å Zabbix Server
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL

### 4.3. –ó–∞–ø—É—Å–∫ playbook

```bash
cd ansible
ansible-playbook -i inventories/inventory.yml playbook.yml
```

### üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã:

- ‚úÖ –í—ã–≤–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Ansible playbook
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ (—Ç–µ –∂–µ –∫–æ–º–∞–Ω–¥—ã, —á—Ç–æ –∏ –≤ —à–∞–≥–µ 2)
- ‚úÖ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –¥–æ –∏ –ø–æ—Å–ª–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

---

## –®–∞–≥ 5: –û–ø–∏—Å–∞–Ω–∏–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤

**–í–∞–∂–Ω–æ**: –°–æ–≥–ª–∞—Å–Ω–æ –∑–∞–¥–∞–Ω–∏—é, –Ω—É–∂–Ω–æ **–æ–ø–∏—Å–∞—Ç—å –≤ –æ—Ç—á–µ—Ç–µ**, –∫–∞–∫ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–µ—Ä—ã –≤ –µ–¥–∏–Ω—ã–π, –∞ –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —ç—Ç–æ –¥–µ–ª–∞—Ç—å –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ.

### 5.1. –ß—Ç–æ –Ω—É–∂–Ω–æ –æ–ø–∏—Å–∞—Ç—å –≤ –æ—Ç—á–µ—Ç–µ

–í —Ä–∞–∑–¥–µ–ª–µ "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–≤" –æ—Ç—á–µ—Ç–∞ –æ–ø–∏—à–∏—Ç–µ:

1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Ä–µ—à–µ–Ω–∏—è**

   - –ö–∞–∫ –º–æ–∂–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫
   - –°—Ö–µ–º—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤
   - –ì–¥–µ –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è Zabbix Server
   - –ì–¥–µ –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è PostgreSQL

2. **–ü—Ä–æ—Ü–µ—Å—Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è**

   - –í—ã–±–æ—Ä —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ Zabbix Server
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –µ–¥–∏–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∞–≥–µ–Ω—Ç–æ–≤ –Ω–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö
   - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Ö–æ—Å—Ç–æ–≤ –≤ Zabbix

3. **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è**
   - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
   - –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –º–µ—Ç—Ä–∏–∫–∞–º
   - –£–ø—Ä–æ—â–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### 5.2. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–∫–∞–∑–∞—Ç—å –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ:

- –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –æ–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä –∫–∞–∫ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π Zabbix Server
- –ú–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –≤ –æ–¥–Ω—É –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –µ–¥–∏–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ –≤ Zabbix

**–°–º. –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ `UNIFYING_SERVERS.md`**

### üì∏ –°–∫—Ä–∏–Ω—à–æ—Ç—ã (–µ—Å–ª–∏ –¥–µ–ª–∞–µ—Ç–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏):

- ‚úÖ –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Zabbix —Å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ö–æ—Å—Ç–∞–º–∏
- ‚úÖ –í—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –∫–æ–º–∞–Ω–¥—ã –≤ Zabbix (Latest data)
- ‚úÖ –ï–¥–∏–Ω—ã–π –¥–∞—à–±–æ—Ä–¥ —Å–æ –≤—Å–µ–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- ‚úÖ –ó–∞–ø—Ä–æ—Å –≤ PostgreSQL —Å–æ –≤—Å–µ–º–∏ —Ç–∞–±–ª–∏—Ü–∞–º–∏ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ –û–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π SELECT –∑–∞–ø—Ä–æ—Å –ø–æ –≤—Å–µ–º –º–µ—Ç—Ä–∏–∫–∞–º

---

## –®–∞–≥ 6: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ—Ç—á–µ—Ç–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç—á–µ—Ç–∞ (Team22_Report.docx)

#### 1. –¢–∏—Ç—É–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

- –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- –ö–æ–º–∞–Ω–¥–∞ 22
- –°–æ—Å—Ç–∞–≤ –∫–æ–º–∞–Ω–¥—ã
- –î–∞—Ç–∞

#### 2. –í–≤–µ–¥–µ–Ω–∏–µ

- –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏
- –¶–µ–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
- –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

#### 3. –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫

- –¢–∞–±–ª–∏—Ü–∞ —Å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º –º–µ—Ç—Ä–∏–∫ –ø–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º
- –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–π –º–µ—Ç—Ä–∏–∫–∏

#### 4. –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (–¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞)

**–ö–∞–∂–¥—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ –≥–æ—Ç–æ–≤–∏—Ç —Å–≤–æ–π —Ä–∞–∑–¥–µ–ª:**

- 4.1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
  - –°–∫—Ä–∏–Ω—à–æ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Midnight Commander
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞–ª–∏
- 4.2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Zabbix Agent
  - –°–∫—Ä–∏–Ω—à–æ—Ç—ã –ø—Ä–æ—Ü–µ—Å—Å–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏
- 4.3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ—Ç—Ä–∏–∫–∏
  - –°–∫—Ä–∏–Ω—à–æ—Ç —Å–∫—Ä–∏–ø—Ç–∞ –º–µ—Ç—Ä–∏–∫–∏
  - –†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞
- 4.4. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Zabbix Agent
  - –°–∫—Ä–∏–Ω—à–æ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫–∏ —á–µ—Ä–µ–∑ `zabbix_agentd -t`
- 4.5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PostgreSQL
  - –°–∫—Ä–∏–Ω—à–æ—Ç—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∏
  - –°–∫—Ä–∏–Ω—à–æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã
- 4.6. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫
  - –°–∫—Ä–∏–Ω—à–æ—Ç —Å–∫—Ä–∏–ø—Ç–∞ `collect_metrics.sh`
  - –°–∫—Ä–∏–Ω—à–æ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ PostgreSQL
  - –°–∫—Ä–∏–Ω—à–æ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ cron

#### 5. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Ansible

- 5.1. –û–ø–∏—Å–∞–Ω–∏–µ Ansible —Ä–æ–ª–∏
- 5.2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- 5.3. –ó–∞–ø—É—Å–∫ playbook
  - –°–∫—Ä–∏–Ω—à–æ—Ç –≤—ã–≤–æ–¥–∞ Ansible
- 5.4. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - –°–∫—Ä–∏–Ω—à–æ—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ—Å–ª–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

#### 6. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–æ–≤ (–æ–ø–∏—Å–∞–Ω–∏–µ –≤ –æ—Ç—á–µ—Ç–µ)

**–í–∞–∂–Ω–æ**: –ù—É–∂–Ω–æ –æ–ø–∏—Å–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è, –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ.

##### 6.1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

**–ß—Ç–æ –æ–ø–∏—Å–∞—Ç—å:**

- –°—Ö–µ–º—É –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ASCII-–¥–∏–∞–≥—Ä–∞–º–º—É –∏–∑ `UNIFYING_SERVERS.md`)
- –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
  - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π Zabbix Server (–≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è, —Ñ—É–Ω–∫—Ü–∏–∏)
  - Zabbix Agents –Ω–∞ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–µ—Ä–µ (–∫–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ —Å–æ–±–∏—Ä–∞—é—Ç)
  - –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö PostgreSQL (–≥–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è, –∫–∞–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã)
  - –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

**–ü—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ –¥–ª—è –æ—Ç—á–µ—Ç–∞:**

```
–î–ª—è –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ –∫–æ–º–∞–Ω–¥—ã –≤ –µ–¥–∏–Ω—É—é —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
–ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É. –í –∫–∞—á–µ—Å—Ç–≤–µ
—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è –æ–¥–∏–Ω –∏–∑ —Å–µ—Ä–≤–µ—Ä–æ–≤ –∫–æ–º–∞–Ω–¥—ã (–∏–ª–∏ –≤—ã–¥–µ–ª—è–µ—Ç—Å—è
–æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä), –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è Zabbix Server –∏ PostgreSQL.

–í—Å–µ Zabbix Agents –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö –∫–æ–º–∞–Ω–¥—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É –º–µ—Ç—Ä–∏–∫
–Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π Zabbix Server. –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ –æ–¥–Ω–æ–π
–±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ.
```

##### 6.2. –ü—Ä–æ—Ü–µ—Å—Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è (–ø–æ—à–∞–≥–æ–≤–æ)

**–®–∞–≥ 1: –í—ã–±–æ—Ä —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞**

- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–±–æ—Ä–∞ (–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å)
- –ü—Ä–∏–º–µ—Ä: "–í—ã–±–∏—Ä–∞–µ–º —Å–µ—Ä–≤–µ—Ä —Å –Ω–∞–∏–±–æ–ª—å—à–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏"

**–®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ Zabbix Server**

- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Zabbix Server –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è Zabbix
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
- –ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥ (—Å–º. `UNIFYING_SERVERS.md`)

**–®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –µ–¥–∏–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL**

- –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö `zabbix_metrics` –Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ
- –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –∫–æ–º–∞–Ω–¥—ã –≤ –æ–¥–Ω–æ–π –ë–î:
  ```sql
  CREATE TABLE user1_zabbix (...);
  CREATE TABLE user2_zabbix (...);
  CREATE TABLE user3_zabbix (...);
  CREATE TABLE user4_zabbix (...);
  CREATE TABLE user5_zabbix (...);
  CREATE TABLE user6_zabbix (...);
  ```

**–®–∞–≥ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π –∞–≥–µ–Ω—Ç–æ–≤**

- –ù–∞ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–µ—Ä–µ –æ–±–Ω–æ–≤–∏—Ç—å `/etc/zabbix/zabbix_agentd.conf`:
  ```
  Server=<IP_—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ_—Å–µ—Ä–≤–µ—Ä–∞>
  ServerActive=<IP_—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ_—Å–µ—Ä–≤–µ—Ä–∞>
  ```
- –û–±–Ω–æ–≤–∏—Ç—å —Å–∫—Ä–∏–ø—Ç `save_to_postgresql.sh` —Å IP —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –ë–î

**–®–∞–≥ 5: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ö–æ—Å—Ç–æ–≤ –≤ Zabbix**

- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —Ö–æ—Å—Ç–∞ –∫–æ–º–∞–Ω–¥—ã –≤ Zabbix —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ—Ç—Ä–∏–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ö–æ—Å—Ç–∞

**–®–∞–≥ 6: –°–æ–∑–¥–∞–Ω–∏–µ –µ–¥–∏–Ω–æ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞**

- –°–æ–∑–¥–∞–Ω–∏–µ –¥–∞—à–±–æ—Ä–¥–∞ "Team 22 Metrics"
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ –¥–ª—è –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫ –∫–æ–º–∞–Ω–¥—ã

##### 6.3. –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è

**–ß—Ç–æ –æ–ø–∏—Å–∞—Ç—å:**

- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ - –≤—Å–µ –º–µ—Ç—Ä–∏–∫–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ - –æ–¥–∏–Ω –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- –£–ø—Ä–æ—â–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ - –æ–¥–Ω–∞ –ë–î, –æ–¥–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –º–µ—Ç—Ä–∏–∫
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Å–µ—Ä–≤–µ—Ä—ã

##### 6.4. –ü—Ä–∏–º–µ—Ä—ã SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –æ—Ç—á–µ—Ç–∞

**–ü–æ—Å–ª–µ–¥–Ω–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –æ—Ç –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:**

```sql
SELECT 'user1 (CPU)' as user, timestamp, metric_type, metric_value
FROM user1_zabbix ORDER BY timestamp DESC LIMIT 1
UNION ALL
SELECT 'user2 (RAM)', timestamp, metric_type, metric_value
FROM user2_zabbix ORDER BY timestamp DESC LIMIT 1
UNION ALL
SELECT 'user3 (Disk)', timestamp, metric_type, metric_value
FROM user3_zabbix ORDER BY timestamp DESC LIMIT 1
UNION ALL
SELECT 'user4 (Network)', timestamp, metric_type, metric_value
FROM user4_zabbix ORDER BY timestamp DESC LIMIT 1
UNION ALL
SELECT 'user5 (Processes)', timestamp, metric_type, metric_value
FROM user5_zabbix ORDER BY timestamp DESC LIMIT 1
UNION ALL
SELECT 'user6 (Swap)', timestamp, metric_type, metric_value
FROM user6_zabbix ORDER BY timestamp DESC LIMIT 1;
```

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º –º–µ—Ç—Ä–∏–∫–∞–º:**

```sql
SELECT 'user1' as user, COUNT(*) as records FROM user1_zabbix
UNION ALL
SELECT 'user2', COUNT(*) FROM user2_zabbix
UNION ALL
SELECT 'user3', COUNT(*) FROM user3_zabbix
UNION ALL
SELECT 'user4', COUNT(*) FROM user4_zabbix
UNION ALL
SELECT 'user5', COUNT(*) FROM user5_zabbix
UNION ALL
SELECT 'user6', COUNT(*) FROM user6_zabbix;
```

**–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ** (–µ—Å–ª–∏ –¥–µ–ª–∞–µ—Ç–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏):

- –°–∫—Ä–∏–Ω—à–æ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ Zabbix Server
- –°–∫—Ä–∏–Ω—à–æ—Ç –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü –∫–æ–º–∞–Ω–¥—ã –≤ –æ–¥–Ω–æ–π –ë–î (`\dt` –≤ psql)
- –°–∫—Ä–∏–Ω—à–æ—Ç —Å–ø–∏—Å–∫–∞ —Ö–æ—Å—Ç–æ–≤ –≤ Zabbix (Configuration ‚Üí Hosts)
- –°–∫—Ä–∏–Ω—à–æ—Ç –µ–¥–∏–Ω–æ–≥–æ –¥–∞—à–±–æ—Ä–¥–∞ —Å–æ –≤—Å–µ–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- –°–∫—Ä–∏–Ω—à–æ—Ç—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –≤—ã—à–µ

#### 7. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

- 7.1. –ú–µ—Ç—Ä–∏–∫–∏ –≤ Zabbix
  - –°–∫—Ä–∏–Ω—à–æ—Ç—ã –≥—Ä–∞—Ñ–∏–∫–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –º–µ—Ç—Ä–∏–∫–∏
  - –°–∫—Ä–∏–Ω—à–æ—Ç Latest data —Å–æ –≤—Å–µ–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∫–æ–º–∞–Ω–¥—ã
- 7.2. –î–∞–Ω–Ω—ã–µ –≤ PostgreSQL
  - –°–∫—Ä–∏–Ω—à–æ—Ç SELECT –∑–∞–ø—Ä–æ—Å–∞ –ø–æ –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü–µ
  - –°–∫—Ä–∏–Ω—à–æ—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞:
    ```sql
    SELECT 'user1' as user, timestamp, metric_type, metric_value
    FROM user1_zabbix ORDER BY timestamp DESC LIMIT 1
    UNION ALL
    SELECT 'user2', timestamp, metric_type, metric_value
    FROM user2_zabbix ORDER BY timestamp DESC LIMIT 1
    UNION ALL
    -- ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
    ```
- 7.3. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
  - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ –∫–∞–∂–¥–æ–π —Ç–∞–±–ª–∏—Ü–µ
  - –í—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω –¥–∞–Ω–Ω—ã—Ö

#### 8. –í—ã–≤–æ–¥—ã

- –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ
- –ö–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –≤–æ–∑–Ω–∏–∫–ª–∏ –∏ –∫–∞–∫ —Ä–µ—à–µ–Ω—ã
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Ansible
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤
- –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –∑–Ω–∞—á–∏–º–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞

---

## –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞

### ‚úÖ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ Debian minimal
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Midnight Commander
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –ª–æ–∫–∞–ª—å (en_US.UTF-8)
- [ ] –ï—Å—Ç—å SSH –¥–æ—Å—Ç—É–ø

### ‚úÖ –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

- [ ] –°–æ–∑–¥–∞–Ω –∫–∞—Ç–∞–ª–æ–≥ `/srv/team22/userX_zabbix`
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Zabbix Agent
- [ ] –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –º–µ—Ç—Ä–∏–∫–∏
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω Zabbix Agent
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ –º–µ—Ç—Ä–∏–∫–∏
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω PostgreSQL
- [ ] –°–æ–∑–¥–∞–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ –≤ PostgreSQL
- [ ] –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω cron –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–±–æ—Ä–∞
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- [ ] –°–¥–µ–ª–∞–Ω—ã –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
- [ ] –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã
- [ ] –ó–∞–ø–∏—Å–∞–Ω—ã –∑–Ω–∞—á–µ–Ω–∏—è –º–µ—Ç—Ä–∏–∫

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ Ansible —Ä–æ–ª–∏
- [ ] –°–¥–µ–ª–∞–Ω—ã —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –ø—Ä–æ—Ü–µ—Å—Å–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

### ‚úÖ –û–ø–∏—Å–∞–Ω–∏–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è (–¥–ª—è –æ—Ç—á–µ—Ç–∞)

- [ ] –û–ø–∏—Å–∞–Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã
- [ ] –û–ø–∏—Å–∞–Ω –ø—Ä–æ—Ü–µ—Å—Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤
- [ ] –û–ø–∏—Å–∞–Ω—ã –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è
- [ ] (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º–∏

### ‚úÖ –û—Ç—á–µ—Ç

- [ ] –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª –ø–æ —Ä—É—á–Ω–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- [ ] –î–æ–±–∞–≤–ª–µ–Ω—ã –≤—Å–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã
- [ ] –û–ø–∏—Å–∞–Ω—ã –≤—Å–µ —à–∞–≥–∏
- [ ] –ü–µ—Ä–µ–¥–∞–Ω –º–∞—Ç–µ—Ä–∏–∞–ª –¥–ª—è –æ–±—â–µ–≥–æ –æ—Ç—á–µ—Ç–∞

---

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ Zabbix Agent

```bash
# –°—Ç–∞—Ç—É—Å —Å–ª—É–∂–±—ã
sudo systemctl status zabbix-agent

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫–∏
sudo zabbix_agentd -t userX.metric_type

# –õ–æ–≥–∏
tail -f /var/log/zabbix/zabbix_agentd.log
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ PostgreSQL

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
sudo -u postgres psql -d zabbix_metrics

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü
\dt

# –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–∞–Ω–Ω—ã—Ö
SELECT * FROM userX_zabbix ORDER BY timestamp DESC LIMIT 10;

# –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π
SELECT COUNT(*) FROM userX_zabbix;
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ—Ç—Ä–∏–∫

```bash
# –ó–∞–ø—É—Å–∫ —Å–∫—Ä–∏–ø—Ç–∞ –º–µ—Ç—Ä–∏–∫–∏
/srv/team22/userX_zabbix/metric_type_metric.sh

# –ó–∞–ø—É—Å–∫ —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
/srv/team22/userX_zabbix/collect_metrics.sh

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
cat /srv/team22/userX_zabbix/metrics_output.txt
```

---

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–°–Ω–∞—á–∞–ª–∞ —Ä—É–∫–∞–º–∏, –ø–æ—Ç–æ–º –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - —ç—Ç–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è!
2. **–î–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ** - –∏—Ö –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –≤ –æ—Ç—á–µ—Ç
3. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–æ–±–ª–µ–º—ã** - –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∑–∞–ø–∏—à–∏—Ç–µ –∫–∞–∫ —Ä–µ—à–∏–ª–∏
4. **–†–∞–±–æ—Ç–∞–π—Ç–µ –≤–º–µ—Å—Ç–µ** - –æ—Å–æ–±–µ–Ω–Ω–æ –Ω–∞ —ç—Ç–∞–ø–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–æ–≤
5. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–∞–±–æ—Ç—É –¥—Ä—É–≥ –¥—Ä—É–≥–∞** - –ø–æ–º–æ–≥–∏—Ç–µ –∫–æ–ª–ª–µ–≥–∞–º –µ—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è

- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π: git.fiit.ssau.ru
- –û—Ç—á–µ—Ç: `report/Team22_Report.docx`
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: —Å–º. `README.md`

–£–¥–∞—á–∏ –≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞–Ω–∏—è! üöÄ
